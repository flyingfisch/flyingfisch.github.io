<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Thoughts on UI</title>
    <meta name="description" content="My personal blog where I post about programming as well as other topics.
">

    <script type="text/javascript" src="/js/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="/js/jquery.viewport.js"></script>
    <script type="text/javascript" src="/js/prism.js"></script>

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://flyingfisch.github.io/programming/frontend/2015/05/04/thoughts-on-ui.html">
</head>


    <body>

        <header>
    <a href="/"><h1>Expositus</h1></a>

    <nav>
        
            
        
            
        
            
        
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
        
            
        
            
        
    </nav>
</header>



        <nav class="article"></nav>

<article lang="en" class="post">
    <div class="post-info">
        <strong>Author:</strong> Mark Fischer, Jr.<br>

        <strong>Posted:</strong> May 4, 2015<br>

        
        
        <strong>Tags:</strong> programming, frontend<br>
        

        
    </div>

    <h1 class="post-title">Thoughts on UI</h1>
    <blockquote>
  <p>This post needs a lot of help. May not finish it.</p>
</blockquote>

<p>I was building an ASP.NET MVC web app recently and thought I would document some
of different schemes I came up with. These are pretty high-level, so they should
relate to most if not all web backend languages. I will be using C# for the
examples, however.</p>

<h1 id="concerns">Concerns</h1>

<p>Some of the concerns that each of these solutions addresses are:</p>

<ol>
  <li>Clean URLs. No more
 <code>/blog?startdate=01-20-2014&amp;startdate=01-22-2015&amp;adnauseam</code>.</li>
  <li>Separation of concerns. We shouldn’t be doing any business logic in our
 views, and there shouldn’t be any knowledge outside of our models.</li>
  <li>DRY (Don’t Repeat Yourself)</li>
</ol>

<h1 id="restful-crud">RESTful CRUD</h1>

<p>CRUD stands for the 4 basic data commands: Create, Read, Update, and Delete.
When implemented on the web the HTTP verbs <code>POST</code>, <code>GET</code>, <code>PATCH</code>, and <code>DELETE</code>
are usually used to determine the operation. REST is a <a href="http://tools.ietf.org/html/draft-gregorio-uritemplate-05">URL naming scheme</a>
intended to make URLs more self-explanatory. Here is an example of a controller
using this architecture:</p>

<pre><code class="language-csharp">public class User : Controller
{
    // Ex: /User/3
    [HttpGet]
    public ActionResult Index(int id)
    {
        // show user by id
    }

    // Ex: /User/
    [HttpPost]
    public ActionResult Index(User user)
    {
        // create new user
    }

    // Ex: /User/3
    [HttpPatch]
    public ActionResult Index(int id)
    {
        // update user
    }

    // Ex: /User/3
    [HttpDelete]
    public ActionResult Index(int id)
    {
        // Delete user by id
    }
}
</code></pre>

<p>The pros are that this is easy to read, and works for many applications,
especially APIs. However, sometimes you do not want a separate page for each
CRUD operation. This is especially true when you have a dashboard which may have
delete, modify, and add buttons all on the same page.</p>

<h1 id="ajax-to-the-rescue">AJAX to the rescue!</h1>

<p>We can use AJAX to keep our RESTful URL structure while also being able to use
multiple commands in one view. We can do this by making our dashboard html look
something like this:</p>

<pre><code class="language-markup">&lt;div class="UserProfile"&gt;&lt;/div&gt;
</code></pre>

<p>And some jQuery to bring it all together:</p>

<pre><code class="language-javascript">$(document).ready(function () {
    $.get('/user/' + userId, function (data) {
        // embed /user/userId in .UserProfile
        $('.UserProfile').html(data);
    });
});
</code></pre>

<p>You could then do AJAX calls for all the rest of your commands as well. This
fixes the lack of flexibility in a pure server-side REST API, but it also brings
it’s own drawbacks. For one thing, parts of the page simply will not load if the
user has Javascript turned off or if the Javascript simply takes too long to
load.</p>

<p>Which brings us to the next solution.</p>

<h1 id="ajax-to-the-rescue----take-2">AJAX to the rescue – Take 2</h1>

<p>The previous solution works, but to maintain a separation of concerns, you
probably don’t want your API spitting out HTML. To prevent this you can have
your AJAX calls act a little smarter. To begin with, we have to change both the
client and the server side slightly.</p>

<pre><code class="language-csharp">public class User : Controller
{
    // Ex: /User/3
    [HttpGet]
    public ActionResult Index(int id)
    {
        // show user by id
    }

    // Ex: /User/
    [HttpPost]
    public ActionResult Index()
    {
        var tSuccess = false;

        AddUser

        if (successful)
        {
            tSuccess = true;
        }
        else
        {
            tSuccess = false;
        }

        return Json(new { success = tSuccess });
    }

    // Ex: /User/3
    [HttpPatch]
    public ActionResult Index(int id)
    {
        // show form to update user
    }

    // Ex: /User/3
    [HttpDelete]
    public ActionResult Index(int id)
    {
        // Delete user by id
    }
}
</code></pre>

</article>

<section id="comments" class="center">
    <h1 class="post-title">Comments</h1>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        // Required: on line below, replace text in quotes with your forum shortname
        var disqus_shortname = 'expositus';
        var diqus_identifier = 'ThoughtsonUI';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>


<script type="text/javascript" src="/js/post-nav.js"></script>



        <footer>
    <p>My personal blog where I post about programming as well as other topics.
</p>

    <p>
        <a href="mailto:flyingfisch@toppagedesign.com">flyingfisch@toppagedesign.com</a> |
        <a href="https://github.com/flyingfisch">GitHub</a> |
        <a href="https://twitter.com/flyingfisch_">Twitter</a>
    </p>

    <p class="rss-subscribe">Subscribe <a href="/feed.xml">via RSS</a></p>
</footer>


    </body>

</html>
